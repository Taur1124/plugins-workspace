if("__TAURI__"in window){var __TAURI_HTTP__=function(e){"use strict";return e.fetch=async function(e,t){const n=null==t?void 0:t.maxRedirections,i=null==t?void 0:t.maxRedirections;t&&(delete t.maxRedirections,delete t.connectTimeout);const r=new Request(e,t),_=await r.arrayBuffer(),a=_.byteLength?Array.from(new Uint8Array(_)):null,o=await window.__TAURI_INTERNALS__.invoke("plugin:http|fetch",{method:r.method,url:r.url,headers:Array.from(r.headers.entries()),data:a,maxRedirections:n,connectTimeout:i});r.signal.addEventListener("abort",(()=>{window.__TAURI_INTERNALS__.invoke("plugin:http|fetch_cancel",{rid:o})}));const{status:d,statusText:s,url:u,headers:c}=await window.__TAURI_INTERNALS__.invoke("plugin:http|fetch_send",{rid:o}),l=await window.__TAURI_INTERNALS__.invoke("plugin:http|fetch_read_body",{rid:o}),w=new Response(new Uint8Array(l),{headers:c,status:d,statusText:s});return Object.defineProperty(w,"url",{value:u}),w},e}({});Object.defineProperty(window.__TAURI__,"http",{value:__TAURI_HTTP__})}
